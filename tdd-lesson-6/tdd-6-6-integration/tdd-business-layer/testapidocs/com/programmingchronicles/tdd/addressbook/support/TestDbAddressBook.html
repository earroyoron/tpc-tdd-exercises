<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_17) on Tue Jun 07 08:51:43 CEST 2011 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
TestDbAddressBook (TDD Exercise 6.6.B - Business Layer 1.0-SNAPSHOT Test API)
</TITLE>

<META NAME="date" CONTENT="2011-06-07">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TestDbAddressBook (TDD Exercise 6.6.B - Business Layer 1.0-SNAPSHOT Test API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/TestDbAddressBook.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../../com/programmingchronicles/tdd/addressbook/support/TestIncrementIdGenerator.html" title="class in com.programmingchronicles.tdd.addressbook.support"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?com/programmingchronicles/tdd/addressbook/support/TestDbAddressBook.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="TestDbAddressBook.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.programmingchronicles.tdd.addressbook.support</FONT>
<BR>
Class TestDbAddressBook</H2>
<PRE>
<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by "><B>com.programmingchronicles.tdd.addressbook.support.TestDbAddressBook</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>TestDbAddressBook</B><DT>extends <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></DL>
</PRE>

<P>
Test de DbAddressBook.

 <p><b>VALIDACION POR ESTADO vs INTERACCION</b><br/>
 Para independizar los test de la base de datos se deben utilizar stubs o mocks,
 la duda es si se puede validar usando stubbing (respuestas programadas), o
 mocking (interacción).</p>

 <p>
 Se aplicarán los criterios vistos en la teoría, intentando evitar lo máximo
 posible validaciones por interacción, y en los casos que no sea posible, la
 interacción verificada será la mínima requerida para satisfacer el test.</p>

 <p>
 No se debe atar la implementación al test, validando cada interacción o cada
 ausencia de interacción.<br/>
 En una validación por interacción el "verify" debe ser el equivalente al
 "assert". Un "assert" comprueba los resultados obtenidos, y un "verify"
 puede ser su equivalente, en este caso el resultado es una interacción.<p>

 <p><b>
 La excesiva verificación de interacción o verificación de ausencia de
 interacción hacen muchas validaciones redundantes, los tests inflexibles y
 poco mantenibles.</b></p>

 <p>
 <b> Ver: </b>
 <a href="http://monkeyisland.pl/2008/04/26/asking-and-telling/"></a>
 <a href="http://codebetter.com/blogs/aaron.jensen/archive/2008/04/03/separate-stub-and-verify-duplicate-code-necessarily.aspx"></a>
 </p>
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Pedro Ballesteros <pedro@theprogrammingchronicles.com></DD>
</DL>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../com/programmingchronicles/tdd/addressbook/support/TestDbAddressBook.html#TestDbAddressBook()">TestDbAddressBook</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/programmingchronicles/tdd/addressbook/support/TestDbAddressBook.html#setUp()">setUp</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/programmingchronicles/tdd/addressbook/support/TestDbAddressBook.html#testAddBlankFirstName()">testAddBlankFirstName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/programmingchronicles/tdd/addressbook/support/TestDbAddressBook.html#testAddDuplicateFirstName()">testAddDuplicateFirstName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Simulación de datos existentes en la base de datos.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/programmingchronicles/tdd/addressbook/support/TestDbAddressBook.html#testAddDuplicateNameDifferentSurname()">testAddDuplicateNameDifferentSurname</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/programmingchronicles/tdd/addressbook/support/TestDbAddressBook.html#testAddDuplicateNameFirstContactWithoutSurname()">testAddDuplicateNameFirstContactWithoutSurname</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/programmingchronicles/tdd/addressbook/support/TestDbAddressBook.html#testAddDuplicateNameWithBlanks()">testAddDuplicateNameWithBlanks</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Aparecen fallos de implementación.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/programmingchronicles/tdd/addressbook/support/TestDbAddressBook.html#testAddDuplicateNameWithCapital()">testAddDuplicateNameWithCapital</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/programmingchronicles/tdd/addressbook/support/TestDbAddressBook.html#testAddDuplicateNameWithNullSurname()">testAddDuplicateNameWithNullSurname</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/programmingchronicles/tdd/addressbook/support/TestDbAddressBook.html#testAddDuplicateSurname()">testAddDuplicateSurname</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/programmingchronicles/tdd/addressbook/support/TestDbAddressBook.html#testAddDuplicateSurnameCapitalLetters()">testAddDuplicateSurnameCapitalLetters</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/programmingchronicles/tdd/addressbook/support/TestDbAddressBook.html#testAddDuplicateSurnameWithBlanks()">testAddDuplicateSurnameWithBlanks</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/programmingchronicles/tdd/addressbook/support/TestDbAddressBook.html#testAddEmptyFirstName()">testAddEmptyFirstName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/programmingchronicles/tdd/addressbook/support/TestDbAddressBook.html#testAddFullContact()">testAddFullContact</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Prueba que se puede añadir un contacto completo.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/programmingchronicles/tdd/addressbook/support/TestDbAddressBook.html#testAddSimpleContact()">testAddSimpleContact</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Valida que se añade correctamente un contacto simple.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/programmingchronicles/tdd/addressbook/support/TestDbAddressBook.html#testAddWithoutFirstName()">testAddWithoutFirstName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cuando solo se hace verificación por interacción (mock), no hace falta
 programar respuestas (stub).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/programmingchronicles/tdd/addressbook/support/TestDbAddressBook.html#testDeleteContact()">testDeleteContact</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Este test sería prácticamente innecesario si tenemos una batería
 de tests de integración.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/programmingchronicles/tdd/addressbook/support/TestDbAddressBook.html#testGetAll()">testGetAll</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Este test sería prácticamente innecesario si tenemos una batería
 de test de integración.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/programmingchronicles/tdd/addressbook/support/TestDbAddressBook.html#testGetContactInvalidId()">testGetContactInvalidId</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/programmingchronicles/tdd/addressbook/support/TestDbAddressBook.html#testGetSimpleContact()">testGetSimpleContact</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Probar que se devuelve correctamente un contacto de la base de datos.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/programmingchronicles/tdd/addressbook/support/TestDbAddressBook.html#testsAddDifferentNameSameData()">testsAddDifferentNameSameData</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="TestDbAddressBook()"><!-- --></A><H3>
TestDbAddressBook</H3>
<PRE>
public <B>TestDbAddressBook</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="setUp()"><!-- --></A><H3>
setUp</H3>
<PRE>
public void <B>setUp</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="testAddSimpleContact()"><!-- --></A><H3>
testAddSimpleContact</H3>
<PRE>
public void <B>testAddSimpleContact</B>()</PRE>
<DL>
<DD>Valida que se añade correctamente un contacto simple.

 <p>
 Parece que la única forma de validar que se añade bien un contacto es
 realizar un "verify" de <CODE>AddressBookDao.addContact(Contact)</CODE>.</p>

 <p>
 En este caso estamos ejercitando un método del DAO que devuelve datos
 que el Object Under Test utiliza, por tanto es más eficiente crear un
 stub de <CODE>AddressBookDao.addContact(Contact)</CODE> que devuelva datos
 útiles, la interacción se está por tanto comprobando de forma indirecta
 y el verify sería redundante.</p>

 <p>
 El resultado final de este método es guardar el contacto en la base de
 datos, y la forma de comprobar esto es asegurar que llama al DAO
 encargado de realizar esta tarea. Pero ¿que aportaría validar tan solo
 que se ha realizado la llamada al DAO?</p>

 <p>
 Mediante stubs probamos ambos casos usando validación por estado.</p>

 <p>
 La única forma de evitar la validación por interacción de forma completa
 sería disponer de un Fake de DAO, que permitiera añadir y recuperar
 datos, o usar la dependencia real.</p>
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="testGetSimpleContact()"><!-- --></A><H3>
testGetSimpleContact</H3>
<PRE>
public void <B>testGetSimpleContact</B>()</PRE>
<DL>
<DD>Probar que se devuelve correctamente un contacto de la base de datos.

 <p>
 Al no disponer de base de datos se simula su contenido programando
 respuesas del DAO (stub). Las respuesas del stub del DAO son nuestra
 base de datos, programar respuestas es como simular la base de datos.</p>
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="testGetContactInvalidId()"><!-- --></A><H3>
testGetContactInvalidId</H3>
<PRE>
public void <B>testGetContactInvalidId</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="testAddFullContact()"><!-- --></A><H3>
testAddFullContact</H3>
<PRE>
public void <B>testAddFullContact</B>()
                        throws <A HREF="http://download.oracle.com/javase/6/docs/api/java/text/ParseException.html?is-external=true" title="class or interface in java.text">ParseException</A></PRE>
<DL>
<DD>Prueba que se puede añadir un contacto completo.

 <p>
 Ahora el test <A HREF="../../../../../com/programmingchronicles/tdd/addressbook/support/TestDbAddressBook.html#testAddSimpleContact()"><CODE>testAddSimpleContact()</CODE></A> es redundante ya que prueba
 prácticamente lo mismo que este test. Es mejor mantener este testen lugar
 de <A HREF="../../../../../com/programmingchronicles/tdd/addressbook/support/TestDbAddressBook.html#testAddSimpleContact()"><CODE>testAddSimpleContact()</CODE></A> ya que aquí probamos además que no
 hay problemas cuando el contacto es correcto (no lanza excepciones).</p>
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/text/ParseException.html?is-external=true" title="class or interface in java.text">ParseException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="testAddWithoutFirstName()"><!-- --></A><H3>
testAddWithoutFirstName</H3>
<PRE>
public void <B>testAddWithoutFirstName</B>()</PRE>
<DL>
<DD>Cuando solo se hace verificación por interacción (mock), no hace falta
 programar respuestas (stub).
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="testAddBlankFirstName()"><!-- --></A><H3>
testAddBlankFirstName</H3>
<PRE>
public void <B>testAddBlankFirstName</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="testAddEmptyFirstName()"><!-- --></A><H3>
testAddEmptyFirstName</H3>
<PRE>
public void <B>testAddEmptyFirstName</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="testAddDuplicateFirstName()"><!-- --></A><H3>
testAddDuplicateFirstName</H3>
<PRE>
public void <B>testAddDuplicateFirstName</B>()</PRE>
<DL>
<DD>Simulación de datos existentes en la base de datos.

 <p>
 Ahora la forma de provocar un contacto repetido es programar
 el stub para que devuelve el contacto que se va a añadir, ya
 que usar el addContact(c1) no sirve para nada.</p>
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="testAddDuplicateNameWithCapital()"><!-- --></A><H3>
testAddDuplicateNameWithCapital</H3>
<PRE>
public void <B>testAddDuplicateNameWithCapital</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="testAddDuplicateNameWithBlanks()"><!-- --></A><H3>
testAddDuplicateNameWithBlanks</H3>
<PRE>
public void <B>testAddDuplicateNameWithBlanks</B>()</PRE>
<DL>
<DD>Aparecen fallos de implementación.

 <p>
 Este test hace aparecer fallos en la implementación anterior. El test
 falla con la lógica actual ya que asume que los contactos siempre se
 añaden con los espacios eliminados.</p>

 <p>
 En la implementación anterior podría darse por válido, ya que
 el mapa solo era accesible desde la implementación. Pero ahora la base
 de datos podría ser manipulada por muchas aplicaciones, por tanto no se
 puede hacer esta suposición.</p>

 <p>
 Se debe refactorizar la lógica de negocio y adaptarla a esta
 implementación basada en base de datos.</p>
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="testAddDuplicateSurname()"><!-- --></A><H3>
testAddDuplicateSurname</H3>
<PRE>
public void <B>testAddDuplicateSurname</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="testAddDuplicateNameWithNullSurname()"><!-- --></A><H3>
testAddDuplicateNameWithNullSurname</H3>
<PRE>
public void <B>testAddDuplicateNameWithNullSurname</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="testAddDuplicateNameFirstContactWithoutSurname()"><!-- --></A><H3>
testAddDuplicateNameFirstContactWithoutSurname</H3>
<PRE>
public void <B>testAddDuplicateNameFirstContactWithoutSurname</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="testAddDuplicateNameDifferentSurname()"><!-- --></A><H3>
testAddDuplicateNameDifferentSurname</H3>
<PRE>
public void <B>testAddDuplicateNameDifferentSurname</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="testAddDuplicateSurnameCapitalLetters()"><!-- --></A><H3>
testAddDuplicateSurnameCapitalLetters</H3>
<PRE>
public void <B>testAddDuplicateSurnameCapitalLetters</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="testAddDuplicateSurnameWithBlanks()"><!-- --></A><H3>
testAddDuplicateSurnameWithBlanks</H3>
<PRE>
public void <B>testAddDuplicateSurnameWithBlanks</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="testsAddDifferentNameSameData()"><!-- --></A><H3>
testsAddDifferentNameSameData</H3>
<PRE>
public void <B>testsAddDifferentNameSameData</B>()
                                   throws <A HREF="http://download.oracle.com/javase/6/docs/api/java/text/ParseException.html?is-external=true" title="class or interface in java.text">ParseException</A></PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/text/ParseException.html?is-external=true" title="class or interface in java.text">ParseException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="testDeleteContact()"><!-- --></A><H3>
testDeleteContact</H3>
<PRE>
public void <B>testDeleteContact</B>()</PRE>
<DL>
<DD>Este test sería prácticamente innecesario si tenemos una batería
 de tests de integración.

 <p>
 Es una delegación directa, no hay lógica de negocio. ¿Aporta  mucho
 validar esto para dirigir los desarrollos?</p>
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="testGetAll()"><!-- --></A><H3>
testGetAll</H3>
<PRE>
public void <B>testGetAll</B>()
                throws <A HREF="http://download.oracle.com/javase/6/docs/api/java/text/ParseException.html?is-external=true" title="class or interface in java.text">ParseException</A></PRE>
<DL>
<DD>Este test sería prácticamente innecesario si tenemos una batería
 de test de integración.

 <p>
 Es una delegación directa de la dependencia. Aun así se implementa para
 que sirva de ejercicio de ejemplo de comprobación de listas, e introducción
 a los hamcrest matchers.</p>
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/text/ParseException.html?is-external=true" title="class or interface in java.text">ParseException</A></CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/TestDbAddressBook.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../../com/programmingchronicles/tdd/addressbook/support/TestIncrementIdGenerator.html" title="class in com.programmingchronicles.tdd.addressbook.support"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?com/programmingchronicles/tdd/addressbook/support/TestDbAddressBook.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="TestDbAddressBook.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2010-2011 <a href="http://theprogrammingchronicles.com/">The Programming Chronicles</a>. All Rights Reserved.
</BODY>
</HTML>
